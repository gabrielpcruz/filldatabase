{% extends 'layout/layout.html' %}

{% block conteudo %}

<div class="container">
    <br>
    <div class="row">
        <div class="col-md-12">
            <h3>Configuração do Banco</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <form id="formulario" action="#" method="post">
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="host">host</label>
                        <input type="text" class="form-control" name="host" id="host"
                               value='{{ session.host ? session.host : ""}}'
                               placeholder="Host do Mysql">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="usuario">usuário</label>
                        <input type="text" class="form-control" name="usuario" id="usuario"
                               value='{{ session.usuario ? session.usuario : ""}}'
                               placeholder="Usuário do Mysql">
                    </div>
                    <div class="form-group col-md-3 ">
                        <label for="senha">senha</label>
                        <input type="password" class="form-control" name="senha" id="senha"
                               value='{{ session.senha ? session.senha : ""}}'
                               placeholder="Senha do Mysql">
                    </div>
                    <div class="form-group col-md-3 ">
                        <label for="banco">banco</label>
                        <input type="text" class="form-control" name="banco" id="banco"
                               value='{{ session.banco ? session.banco : ""}}'
                               placeholder="Nome do Banco">
                    </div>

                    <div class="form-group col-md-12 align-self-center">

                        <span id="conexao" class="badge {{session.sucesso ? 'badge-success' : 'badge-warning'}}">
                            {{session.sucesso ? 'conectado' : 'conexão pendente'}}
                        </span>

                        <button id="submit" class="btn badge badge-dark align-self-center" type="submit">
                            {{session.sucesso ? 'logout' : 'conectar'}}
                        </button>

                        {% if session.preenchimento is not null %}
                        <small class="text-danger text-xs">Preencha Todos os Campos</small>
                        {% endif %}

                        {% if session.erro-conexao is not null %}
                        <small class="text-danger text-xs"> Falha na conexão: revise os dados informados e tente
                            novamente
                        </small>
                        {% endif %}

                    </div>
                </div>
            </form>
        </div><!-- Final Col md 12 -->
    </div><!-- Final Row -->

    <div class="row">
        <div class="col-md-6">
            <h3>Montagem da Query</h3>
        </div>
        <div class="col-md-6">
            <button
                    type="submit" id="filldatabase" class="btn btn-primary btn-sm float-right ml-1"><i
                    class="fas fa-sync-alt"></i> Fill Database
            </button>
            <button disabled="disabled"
                    type="button" id="gerarscript" class="btn btn-primary btn-sm float-right ml-1s" data-toggle="modal" data-target="#exampleModal">
                <i class="fas fa-sync-alt"></i> Gerar Script
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <form action="">
                <div class="form-row">
                    <label for="tabelas">Tabelas</label>
                    <select class="form-control " name="tabelas" id="tabelas">
                        <option class="form-control" value=""></option>
                    </select>
                </div>
            </form>
        </div>
    </div>

    <br>

    <div class="row">
        <div class="col-md-12">
            <div id="campos"></div>
        </div>
    </div>

</div>

{% endblock %}

{% block script %}
    {{parent()}}
    <script src="assets/js/config.js" type="text/javascript"></script>
    <script src="assets/js/filldatabase.js"></script>
    <script src="assets/js/script-campos.js"></script>
    <script src="assets/js/script-tabelas.js"></script>
{% endblock%}